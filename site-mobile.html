<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Clicker Mobile Bounty</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
  body {
    background-image: url('image/bounty.jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    height: 100vh;
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    overflow-x: hidden;
  }

  h2 {
    color: #FFD700;
    text-shadow: 2px 2px 10px black;
    font-size: 1.8em;
    margin: 15px 0;
    text-align: center;
  }

  #image {
    width: 400px;       
    height: 300px;      
    object-fit: contain;
    border: 2px solid #fff;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    margin-top: 20px;
    transition: none !important;   /* supprime toute animation */
    transform: none !important;    /* supprime tout scale */
    cursor: default;               /* pas de curseur */
    touch-action: none;            /* désactive effet tactile mobile */
  }

  #image:hover {
    transform: none !important;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
  }

  #score {
    color: white;
    font-size: 1.5em;
    margin: 10px 0;
    text-shadow: 1px 1px 5px black;
  }

  .button-store {
    margin: 5px;
    padding: 10px 15px;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    background: linear-gradient(90deg, #007BFF, #00BFFF);
    color: white;
    font-size: 1em;
    width: 80%;
    box-shadow: 0 5px 10px rgba(0,0,0,0.3);
    transition: transform 0.2s, background 0.2s;
  }

  .button-store:hover {
    transform: scale(1.05);
    background: linear-gradient(90deg, #0056b3, #1E90FF);
  }

  #store {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    width: 90%;
    margin-top: 20px;
  }

  .store-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
    width: 100%;
  }

  .store-item img {
    width: 50px;
    height: 50px;
    margin-left: 10px;
  }
</style>
</head>
<body>

<h2>Bounty Clicker Mobile</h2>
<div id="score">Click : 0</div>
<img id="image" src="image/bounty.jpg" alt="Bounty">

<div id="store"></div>

<script>
let score = 0;
let clickValue = 1;

// Objets du magasin
const items = [
  {name:"Gamelle de croquette", price:10, cps:0, clickMultiplier:1, icon:'image/icon1.png', count:0},
  {name:"Paquet de croquette", price:50, cps:1, clickMultiplier:0, icon:'image/icon2.png', count:0},
  {name:"Magasin de croquettes", price:200, cps:5, clickMultiplier:0, icon:'image/icon3.png', count:0},
  {name:"Supermarché de croquette", price:500, cps:10, clickMultiplier:0, icon:'image/icon4.png', count:0},
  {name:"Hypermarché de croquettes", price:1200, cps:25, clickMultiplier:0, icon:'image/icon5.png', count:0},
  {name:"Entrepôt de croquettes", price:3000, cps:50, clickMultiplier:0, icon:'image/icon6.png', count:0},
  {name:"Usine de croquettes", price:7000, cps:100, clickMultiplier:0, icon:'image/icon7.png', count:0},
  {name:"Dimension de croquettes", price:15000, cps:250, clickMultiplier:0, icon:'image/icon8.png', count:0},
  {name:"Univers de croquettes", price:50000, cps:500, clickMultiplier:0, icon:'image/icon9.png', count:0},
];

// Création des boutons du magasin
const storeDiv = document.getElementById('store');
items.forEach((item, index)=>{
  const div = document.createElement('div');
  div.className = 'store-item';
  div.innerHTML = `
    <button class="button-store" id="btn-${index}">${item.name} (${item.price})</button>
    <img src="${item.icon}" alt="${item.name} Icon">
  `;
  storeDiv.appendChild(div);

  document.getElementById(`btn-${index}`).addEventListener('click', ()=>{
    if(score >= item.price){
      score -= item.price;
      item.count++;
      item.price = Math.floor(item.price * 1.2);
      if(item.clickMultiplier > 0) clickValue += item.clickMultiplier;
    }
    updateScore();
    updateStore();
  });
});

const scoreDiv = document.getElementById('score');
function updateScore(){
  let cpsTotal = items.reduce((a,b)=>a+b.cps*b.count,0);
  scoreDiv.textContent = `Click : ${score} | CPS : ${cpsTotal}`;
}

function updateStore(){
  items.forEach((item, index)=>{
    document.getElementById(`btn-${index}`).textContent = `${item.name} (${item.price})`;
  });
}

// Click sur l'image
const img = document.getElementById('image');
let canClick = true;
img.addEventListener('click', ()=>{
  if(!canClick) return;
  score += clickValue;
  updateScore();
  canClick = false;
  setTimeout(()=>{ canClick = true; }, 300); // 0.3 seconde entre clicks
});

// CPS automatique
setInterval(()=>{
  let totalCPS = items.reduce((a,b)=>a+b.cps*b.count,0);
  score += totalCPS;
  updateScore();
},1000);

updateScore();
updateStore();
</script>

</body>
</html>
