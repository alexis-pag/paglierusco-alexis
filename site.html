<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>bounty</title>
  <style>
    body {
      background-image: url('fond.jpg'); /* remplace par ton fichier de fond */
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    h2 {
      color: white;
      text-shadow: 1px 1px 5px black;
      margin-bottom: 20px;
      text-align: center;
    }

    #image {
      width: 400px;    /* taille fixe */
      height: 300px;   /* taille fixe */
      object-fit: contain;
      border: 2px solid #fff;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      transition: transform 0.15s;
    }

    #image:active { transform: scale(0.98); } /* léger retour visuel au clic */
  </style>
</head>
<body>
  <h2>via ce site je vais vous presentez mon lapin bounty</h2>

  <!-- Image cliquable -->
  <img id="image" src="" alt="image aléatoire" onclick="changerImageEtJouerSon()">

  <!-- Élément audio (place le fichier son dans son/click.mp3) -->
  <audio id="clickSound" preload="auto">
    <source src="audio/Mouse Click Sound Effect.mp3" type="audio/mpeg">
    <source src="son/click.ogg" type="audio/ogg">
  </audio>

  <script>
    const images = [
      'image/bounty.jpg',
      'image/bounty2.jpg',
      'image/bounty3.jpg',
      'image/bounty4.jpg',
      'image/bounty5.jpg',
      'image/bounty6.jpg',
      'image/bounty7.jpg',
      'image/bounty8.jpg',
      'image/bountygraille.jpg'
    ];

    const imgEl = document.getElementById('image');
    const sound = document.getElementById('clickSound');
    let lastIndex = -1;

    // Evite de répéter la même image immédiatement
    function pickRandomIndex() {
      if (images.length === 0) return -1;
      if (images.length === 1) return 0;
      let idx;
      do {
        idx = Math.floor(Math.random() * images.length);
      } while (idx === lastIndex);
      return idx;
    }

    function changerImageEtJouerSon() {
      // changer l'image
      const idx = pickRandomIndex();
      if (idx >= 0) {
        imgEl.src = images[idx];
        lastIndex = idx;
      }

      // jouer le son depuis le début
      try {
        sound.currentTime = 0;
        const playPromise = sound.play();
        if (playPromise !== undefined) {
          playPromise.catch(() => {
            // si refusé (rare car clic utilisateur), on ignore
          });
        }
      } catch (e) {
        // ignore les erreurs de lecture
      }
    }

    // Affiche une image au chargement
    (function init() {
      const idx = pickRandomIndex();
      if (idx >= 0) {
        imgEl.src = images[idx];
        lastIndex = idx;
      }
    })();
  </script>
</body>
</html>
