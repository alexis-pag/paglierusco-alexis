<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>bounty</title>
  <style>
    body {
      background-image: url('fond.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    h2 {
      color: white;
      text-shadow: 1px 1px 5px black;
      margin-bottom: 20px;
      text-align: center;
    }

    #image {
      width: 400px;
      height: 300px;
      object-fit: contain;
      border: 2px solid #fff;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      transition: transform 0.15s;
    }

    #image:active {
      transform: scale(0.98);
    }
  </style>
</head>
<body>
  <h2>appuyer sur l'image pour voir d'autre photo de bounty</h2>

  <!-- Image -->
  <img id="image" src="" alt="image aléatoire" onclick="changerImageEtJouerSon()">

  <!-- Son -->
  <audio id="clickSound">
    <source src="audio/Mouse Click Sound Effect.mp3" type="audio/mpeg">
  </audio>

  <script>
    const images = [
      'image/bounty.jpg',
      'image/bounty2.jpg',
      'image/bounty3.jpg',
      'image/bounty4.jpg',
      'image/bounty5.jpg',
      'image/bounty6.jpg',
      'image/bounty7.jpg',
      'image/bounty8.jpg',
      'image/bountygraille.jpg'
    ];

    const imgEl = document.getElementById('image');
    const sound = document.getElementById('clickSound');
    let lastIndex = -1;

    function pickRandomIndex() {
      if (images.length <= 1) return 0;
      let idx;
      do {
        idx = Math.floor(Math.random() * images.length);
      } while (idx === lastIndex);
      return idx;
    }

    function changerImageEtJouerSon() {
      // change l'image
      const idx = pickRandomIndex();
      imgEl.src = images[idx];
      lastIndex = idx;

      // rejoue le son
      sound.currentTime = 0;
      sound.volume = 1.0;
      sound.play().catch(err => {
        console.log("Le son n'a pas pu être joué :", err);
      });
    }

    // image initiale
    changerImageEtJouerSon();
  </script>
</body>
</html>
